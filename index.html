<!DOCTYPE html>

<head>
    <title>Определение адреса клика на карте с помощью обратного геокодирования</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="static\css\styles.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script> 
    <script src="https://api-maps.yandex.ru/2.1/?lang=ru_RU&amp;apikey={{YANDEX_MAPS_API_KEY}}" type="text/javascript"></script>
    <script src="static/scripts/event_reverse_geocode.js" type="text/javascript"></script>
    
</head>
<body>
    <p class="header">Кликните по карте, чтобы указать адрес</p>
    <div id="map" style="width: 600px; height: 400px"></div>
    <div id="adress_box">Ищем доставку по адресу <span id="address_confirm"></span></div>
    блок полученный с сервера: <span id="shop-box">{{ ola }}</span>


    <script>
        address_confirm.oninput = function() {
            alert('onimput ON');
        }
        let element = document.getElementById('address_confirm');
        let cssObj = window.getComputedStyle(element);
        if (cssObj.getPropertyValue("visibility") == 'visible') {
            alert('div is  display!!!');
        }
        
        /*
        window.onload =  async function() {
            //let user = {
            //name: 'Dima'
            //};
            let response = await fetch('http://127.0.0.1:8080/', {
                method: 'POST', 
                headers: {
                    'Content-Type': 'application/json;charset=utf-8'
                },
                body: JSON.stringify(visibility)
            })
            .then(response => response.json()
            .then(data => {
                document.querySelector('#shop-box').innerHTML = data.ola;

            }));

            let result = await response.json();
        }
        */
    </script>

</body>
</html>
